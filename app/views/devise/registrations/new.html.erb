<% content_for :title, "新規アカウント登録" %>

<div class="container py-5">
  <%= render 'shared/flash_message' %>
  <div class="glass-morphism p-4 mb-4">
    <h1 class="text-gradient h2 mb-4">
      <i class="bi bi-person-plus me-3"></i>
      新規アカウント登録
    </h1>

    <swiper-container class="mySwiper" effect="cards" grab-cursor="true" navigation="true" pagination="true">
      <swiper-slide>
        <div class="py-4 px-4">
          <div class="card glass-morphism-signup border-0">
            <div class="card-body p-5">
              <%= form_with(model: resource, as: resource_name, url: registration_path(resource_name), class: "needs-validation") do |f| %>
                <%= render "devise/shared/error_messages", resource: resource %>

                <div class="mb-4">
                  <%= f.label :name, class: "form-label text-gradient" %>
                  <%= f.text_field :name, class: "form-control text-dark", placeholder: "ユーザー名を入力（必須）", autofocus: true %>
                </div>

                <div class="mb-4">
                  <%= f.label :email, class: "form-label text-gradient" %>
                  <%= f.email_field :email, class: "form-control text-dark", placeholder: "メールアドレスを入力（任意）" %>
                </div>

                <div class="mb-4">
                  <%= f.label :password, class: "form-label text-gradient" %>
                  <%= f.password_field :password, class: "form-control text-dark", placeholder: "パスワードを入力（#{@minimum_password_length}文字以上）" %>
                </div>

                <div class="mb-4">
                  <%= f.label :password_confirmation, class: "form-label text-gradient" %>
                  <%= f.password_field :password_confirmation, class: "form-control text-dark", placeholder: "パスワードを再入力" %>
                </div>

                <div class="text-end mt-4">
                  <%= f.submit "登録する", class: "btn btn-primary rounded-pill px-4 hover-lift" %>
                  <%= link_to "キャンセル", 'javascript:history.back()', class: "btn btn-outline-light rounded-pill px-4 hover-lift ms-2" %>
                </div>
              <% end %>

              <div class="text-center">
                <%= render "devise/shared/links" %>
              </div>
            </div>
          </div>
        </div>
      </swiper-slide>

      <swiper-slide>
        <div class="py-4 px-4">
          <div class="card glass-morphism-signup border-0">
            <div class="px-5 py-3">
              <h2 class="text-gradient h3 my-4">Music Hourのアカウント登録について</h2>
              
              <div class="feature-section mb-4">
                <h3 class="text-gradient-subtle h5 mb-3">
                  <i class="bi bi-person me-2"></i>登録なしで利用できる機能
                </h3>
                <ul class="list-unstyled ps-4">
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>番組などの閲覧</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>番組へのお便り投稿（ラジオネーム設定も可能）</li>
                </ul>
              </div>

              <div class="feature-section mb-4">
                <h3 class="text-gradient-subtle h5 mb-3">
                  <i class="bi bi-person-check me-2"></i>登録（emailなし）で利用できる機能
                </h3>
                <ul class="list-unstyled ps-4">
                  <li class="text-white small mb-2">上記に加え</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>マイページ機能</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>送信したお便りの履歴確認</li>
                </ul>
              </div>

              <div class="feature-section mb-4">
                <h3 class="text-gradient-subtle h5 mb-3">
                  <i class="bi bi-person-check-fill me-2"></i>登録（emailあり）で利用できる機能
                </h3>
                <ul class="list-unstyled ps-4">
                  <li class="text-white small mb-2">上記に加え</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>番組の作成(参加)と管理</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>作成した番組へのお便りの確認と管理</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>作成した番組へのお便りからのランダム表示機能</li>
                  <li class="mb-2 text-white"><i class="bi bi-check2 me-2 text-primary"></i>パスワードを忘れた場合の再設定</li>
                </ul>
              </div>

              <div class="alert alert-info">
                <i class="bi bi-info-circle me-2"></i>
                email登録後に確認メールが送信されるので、確認メールに記載されているリンクにアクセスしてemailを認証してください
              </div>
            </div>
          </div>
        </div>
      </swiper-slide>
    </swiper-container>
  </div>
</div>

  <style>
    swiper-container {
      width: 90%;
    }

    swiper-slide {
      border-radius: 12px;
      background-position: center;
      align-items: center;
    }

    /* スライド内のコンテンツサイズ調整 */
    swiper-slide > div {
      width: 90%;
      margin: 0 auto;
    }

    .swiper-slide-shadow {
      background: rgba(255, 255, 255, 0);
    }

    @media (max-width: 992px) {
      swiper-container {
        width: 100%;
      }

      swiper-slide > div{
        width: 100%;
      }
      
    }
  </style>